[["index.html", "Housing prices Copenhagen Prerequisite Acknowledgements R session 0.1 House characteristics 0.2 Location characteristics 0.3 Neighbourhood characteristics", " Housing prices Copenhagen Javier Elío, Henning S. Hansen, Carsten Keßler 2021-04-19 Prerequisite The data have been analysed with R (version 4.0.4) and Rstudio (version 1.4.1106), and the book has been created with bookdown package. The required packages are automatically checked and installed if needed from CRAN. # Create an auxiliary function for checking if a package is installed, # install it if it is not, and load the package # (based on https://gist.github.com/stevenworthington/3178163) ipak &lt;- function(pkg){ new_pkg &lt;- pkg[!(pkg %in% installed.packages()[, &quot;Package&quot;])] if (length(new_pkg)) install.packages(new_pkg, dependencies = TRUE, repos = &quot;http://cran.us.r-project.org&quot;) sapply(pkg, require, character.only = TRUE) } # List of packages pkg &lt;- c(&quot;bit64&quot;, &quot;bookdown&quot;, &quot;data.table&quot;, &quot;danstat&quot;, &quot;forcats&quot;, &quot;furrr&quot;, &quot;ggspatial&quot;, &quot;giscoR&quot;, &quot;gtsummary&quot;, &quot;janitor&quot;, &quot;kableExtra&quot;, &quot;knitr&quot;, &quot;latex2exp&quot;, &quot;osmdata&quot;, &quot;patchwork&quot;, &quot;potential&quot;, &quot;rmarkdown&quot;, &quot;remotes&quot;, &quot;RColorBrewer&quot;, &quot;rappdirs&quot;, &quot;sf&quot;, &quot;stringr&quot;, &quot;SnowballC&quot;, &quot;stars&quot;, &quot;units&quot;, &quot;table1&quot;, &quot;tidyverse&quot;, &quot;tidytext&quot;, &quot;tm&quot;, &quot;tools&quot;) # Check and install ipak(pkg) Furthermore, we have created our own package for downloading kortforsyningen data to a local repository directly from R (i.e. dangeo). The package can be downloaded from GitHub: # Install package from GitHub if (!require(&quot;dangeo&quot;)) remotes::install_github(&quot;javiereliomedina/dangeo&quot;) library(dangeo) Although the kortforsyningen data are free, we would need to create a username and a password for getting access to them (you can make it here: Opret ny bruger). By default dangeo looks for credentials on .Renviron as: kortforsyningen_id = \"username\" and kortforsyningen_pwd = \"password\". You would need to save them with usethis::edit_r_environ(): # Set username and password # usethis::edit_r_environ() # Open .Renviron file, and save the username (kortforsyningen_id = &quot;your_username&quot;) and password (kortforsyningen_pwd = &quot;your_password&quot;) You would also need to define with dangeo_set_param() the local directory where the data are downloaded (loc_dir). It is defined as loc_dir = rappdirs::user_cache_dir(), although it can be changed loc_dir = ./your/local/path. The first time a file is downloaded with dangeo_get_data(), the process can be time consuming (there are some very big files). However, it will not be downloaded in subsequent calls if the files is already in the local directory (the dataset can be overwritten be setting overwrite = TRUE on dangeo_get_data()). Once we have our username and password, and we have define the local repository for the data, we can set them on our R-session: # Set local repository and password to kortforsyningen dangeo_set_param() Finally, the BBR data are storage in a OneDrive folder. You would need to have access to that folder, and save the path on .Renviron with usethis::edit_r_environ(). It has to be saved as OneDrive_BBR_path = \"your/OneDrive/BBR/path\". Acknowledgements This work has been financed by Aalborg University - AAU (Project: Global flows of migrants and their impact on north European welfare states - FLOW). The sole responsibility of this publication lies with the authors. AAU is not responsible for any use that may be made of the information contained therein. R session # R version 4.0.4 (2021-02-15) # Platform: x86_64-w64-mingw32/x64 (64-bit) # Running under: Windows 10 x64 (build 17763) # # Matrix products: default # # locale: # [1] LC_COLLATE=English_United Kingdom.1252 LC_CTYPE=English_United Kingdom.1252 # [3] LC_MONETARY=English_United Kingdom.1252 LC_NUMERIC=C # [5] LC_TIME=English_United Kingdom.1252 # # attached base packages: # [1] tools stats graphics grDevices utils datasets methods base # # other attached packages: # [1] dangeo_0.0.0.9000 tm_0.7-8 NLP_0.2-1 tidytext_0.3.0 dplyr_1.0.5 purrr_0.3.4 # [7] readr_1.4.0 tidyr_1.1.3 tibble_3.1.0 ggplot2_3.3.3 tidyverse_1.3.0 table1_1.3 # [13] units_0.7-1 stars_0.5-2 abind_1.4-5 SnowballC_0.7.0 stringr_1.4.0 sf_0.9-8 # [19] rappdirs_0.3.3 RColorBrewer_1.1-2 remotes_2.2.0 rmarkdown_2.7 potential_0.1.0 patchwork_1.1.1 # [25] osmdata_0.1.5 latex2exp_0.5.0 knitr_1.31 kableExtra_1.3.4 janitor_2.1.0 gtsummary_1.4.0 # [31] giscoR_0.2.2 ggspatial_1.1.5 furrr_0.2.2 future_1.21.0 forcats_0.5.1 danstat_0.1.0 # [37] data.table_1.14.0 bookdown_0.21 bit64_4.0.5 bit_4.0.4 # # loaded via a namespace (and not attached): # [1] colorspace_2.0-0 ellipsis_0.3.1 class_7.3-18 snakecase_0.11.0 fs_1.5.0 # [6] rstudioapi_0.13 proxy_0.4-25 listenv_0.8.0 fansi_0.4.2 lubridate_1.7.9.2 # [11] xml2_1.3.2 codetools_0.2-18 splines_4.0.4 Formula_1.2-4 jsonlite_1.7.2 # [16] gt_0.2.2 broom_0.7.6 dbplyr_2.1.0 compiler_4.0.4 httr_1.4.2 # [21] backports_1.2.1 assertthat_0.2.1 Matrix_1.3-2 cli_2.4.0 htmltools_0.5.1.1 # [26] gtable_0.3.0 glue_1.4.2 Rcpp_1.0.6 slam_0.1-48 cellranger_1.1.0 # [31] jquerylib_0.1.3 vctrs_0.3.7 svglite_2.0.0 broom.helpers_1.3.0 lwgeom_0.2-5 # [36] xfun_0.22 globals_0.14.0 rvest_1.0.0 lifecycle_1.0.0 scales_1.1.1 # [41] hms_1.0.0 parallel_4.0.4 yaml_2.2.1 curl_4.3 sass_0.3.1 # [46] stringi_1.5.3 tokenizers_0.2.1 e1071_1.7-6 rlang_0.4.10 pkgconfig_2.0.3 # [51] systemfonts_1.0.1 evaluate_0.14 lattice_0.20-41 tidyselect_1.1.0 parallelly_1.24.0 # [56] magrittr_2.0.1 R6_2.5.0 generics_0.1.0 DBI_1.1.1 pillar_1.6.0 # [61] haven_2.3.1 withr_2.4.1 survival_3.2-10 sp_1.4-5 janeaustenr_0.1.5 # [66] modelr_0.1.8 crayon_1.4.1 KernSmooth_2.23-18 utf8_1.2.1 grid_4.0.4 # [71] readxl_1.3.1 isoband_0.2.4 reprex_1.0.0 digest_0.6.27 classInt_0.4-3 # [76] webshot_0.5.2 munsell_0.5.0 viridisLite_0.4.0 bslib_0.2.4 0.1 House characteristics 0.2 Location characteristics 0.3 Neighbourhood characteristics "]]
